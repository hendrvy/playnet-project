<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Playnet - Gaming Center</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="logo">Playnet</div>
        <nav id="mainNav">
            <a href="#" onclick="showPage('home')">Home</a>
            <a href="#" onclick="showPage('booking')">Booking PC</a>
            <a href="#" onclick="showPage('games')">Daftar Game</a>
            <a href="#" onclick="showPage('food_order')">Pesan Makanan</a>
            <a href="#" onclick="showPage('rules')">Rules</a>

            <a href="#" onclick="showPage('admin')" id="adminLink" style="display:none; color: #FFD700; font-weight: bold;">Panel Admin</a>           
            <a href="#" onclick="showPage('profile')" id="profileLink" style="display:none;">Profil</a>
            <a href="#" onclick="handleLogout()" id="logoutLink" style="display:none;">Logout</a>
            <a href="#" onclick="showPage('auth')" id="authLink">Login/Sign Up</a>
        </nav>
    </header>

    <div id="home" class="page-content active">
        <section class="hero">
            <div class="planets">
                <div class="planet planet-left"></div>
                <div class="planet planet-right"></div>
                <div class="stars">
                    <div class="star" style="top: 20%; left: 15%; animation-delay: 0s;"></div>
                    <div class="star" style="top: 40%; left: 85%; animation-delay: 1s;"></div>
                    <div class="star" style="top: 60%; left: 25%; animation-delay: 2s;"></div>
                    <div class="star" style="top: 80%; right: 20%; animation-delay: 1.5s;"></div>
                    <div class="star" style="top: 15%; right: 40%; animation-delay: 0.5s;"></div>
                </div>
            </div>
            <h1>Playnet</h1>
            <p>Gaming lebih seru dengan suasana cozy dan kemudahan booking yang bisa diakses di genggamanmu</p>
            <button class="cta-button" onclick="showPage('booking')">Booking Sekarang</button>
        </section>

        <section class="features">
            <h2>Kenapa Pilih Playnet?</h2>
            <div class="feature-grid">
                <div class="feature-card">
                    <div class="feature-icon">üíª</div>
                    <h3>Spesifikasi Tinggi</h3>
                    <p>PC gaming dengan spesifikasi terbaik untuk pengalaman gaming maksimal</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üì±</div>
                    <h3>Booking Mudah</h3>
                    <p>Sistem booking online yang mudah dan praktis, kapan saja dimana saja</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üéÆ</div>
                    <h3>Game Lengkap</h3>
                    <p>Ratusan game populer dari berbagai genre siap dimainkan</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">‚òï</div>
                    <h3>Suasana Nyaman</h3>
                    <p>Ruangan ber-AC dengan desain modern dan fasilitas lengkap</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üí∞</div>
                    <h3>Harga Terjangkau</h3>
                    <p>Tarif kompetitif dengan berbagai promo dan paket menarik</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üïê</div>
                    <h3>Buka 24/7</h3>
                    <p>Layanan non-stop untuk menemani sesi gaming kapan saja</p>
                </div>
            </div>
        </section>
    </div>

    <div id="auth" class="page-content">

        <div class="content-card auth-container" id="loginForm">
            <h2>Login</h2>
            <form onsubmit="handleLogin(event)">
                <div class="form-group">
                    <label>Username</label>
                    <input type="text" id="loginUsername" required>
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="loginPassword" required>
                </div>
                  <p id="login-message" class="message" style="display:none;"></p>

                <button type="submit" class="btn">Login</button>
                <div class="form-footer">
                    <p>Belum punya akun? <a href="#" onclick="showSignup()">Daftar Sekarang</a></p>
                    <p><a href="#" onclick="showForgotPassword()">Lupa Password?</a></p>
                </div>
            </form>
        </div>

        <div class="content-card auth-container" id="signupForm" style="display:none;">
            <h2>Sign Up</h2>
            <form onsubmit="handleSignup(event)">
                <div class="form-group">
                    <label>Nama Lengkap</label>
                    <input type="text" id="signupName" required>
                </div>
                <div class="form-group">
                    <label>Username</label>
                    <input type="text" id="signupUsername" required>
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="signupEmail" required>
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="signupPassword" required>
                </div>
                <div class="form-group">
                    <label>Konfirmasi Password</label>
                    <input type="password" id="signupConfirmPassword" required>
                </div>
                <button type="submit" class="btn">Daftar</button>
                <div class="form-footer">
                    <p>Sudah punya akun? <a href="#" onclick="showLogin()">Login</a></p>
                </div>
            </form>
        </div>

        <div class="content-card auth-container" id="forgotForm" style="display:none;">
            <h2>Lupa Password</h2>
            <form onsubmit="handleForgotPassword(event)">
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="forgotEmail" required>
                </div>
                <button type="submit" class="btn">Reset Password</button>
                <div class="form-footer">
                    <p><a href="#" onclick="showLogin()">Kembali ke Login</a></p>
                </div>
            </form>
        </div>
        
    </div>

    <div id="profile" class="page-content">
        <div class="content-card">
            <div class="profile-header">
                <div class="profile-avatar">üë§</div>
                <div class="profile-info">
                    <h2 id="profileName">Guest User</h2>
                    <p id="profileId">ID: -</p>
                </div>
            </div>

            <div class="time-remaining">
                <p>Sisa Waktu Bermain</p>
                <h3 id="remainingTime">0 Jam 0 Menit</h3>
            </div>

            <div class="profile-section">
                <h3 style="color: #964DFD; margin-bottom: 20px;">Ubah Data Akun</h3>
                <form onsubmit="handleUpdateProfile(event)">
                    <p id="profile-message" class="message" style="display:none;"></p>
                    <div class="form-group">
                        <label>Nama Lengkap</label>
                        <input type="text" id="updateName">
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" id="updateEmail">
                    </div>
                    <div class="form-group">
                        <label>Password Baru (kosongkan jika tidak ingin mengubah)</label>
                        <input type="password" id="updatePassword">
                    </div>
                    <button type="submit" class="btn">Update Profil</button>
                </form>
            </div>

            <div class="profile-section">
                <h3 style="color: #964DFD; margin-bottom: 20px;">Riwayat Transaksi</h3>
                <div id="transactionHistory">
                    <p style="color: #666; text-align: center;">Belum ada riwayat transaksi</p>
                </div>
            </div>
        </div>
    </div>

    <div id="booking" class="page-content">
        <div class="content-card">
            <h2>Booking PC</h2>
            <p style="color: #666; margin-bottom: 20px;">Pilih PC yang tersedia untuk memulai booking</p>
            
            <div class="pc-grid" id="pcGrid"></div>

            <div class="pc-details" id="pcDetails" style="display:none;">
                
                <h3>Detail PC <span id="selectedPC"></span></h3>
                <p><strong>Harga:</strong> Rp 5.000 / jam</p>
                <ul style="margin-left: 20px; color: #666; margin-bottom: 30px;">
                    <li>Processor: Intel Core i7-12700K</li>
                    <li>GPU: NVIDIA RTX 4060 Ti 8GB</li>
                    <li>RAM: 16GB DDR4</li>
                </ul>

                <hr>

                <div id="bookingSteps" style="display:none; margin-top: 20px;">
                    
                    <div id="step1">
                        <h3 style="color: #964DFD; margin-bottom: 20px;">1. Pilih Durasi</h3>
                        <div class="duration-options">
                            <div class="duration-card" onclick="selectDuration(this, 1, 5000)">
                                <h3>1 Jam</h3><p>Rp 5.000</p>
                            </div>
                            <div class="duration-card" onclick="selectDuration(this, 2, 10000)">
                                <h3>2 Jam</h3><p>Rp 10.000</p>
                            </div>
                            <div class="duration-card" onclick="selectDuration(this, 3, 14000)">
                                <h3>3 Jam</h3><p>Rp 14.000</p><small>Hemat Rp 1.000</small>
                            </div>
                            <div class="duration-card" onclick="selectDuration(this, 5, 22000)">
                                <h3>5 Jam</h3><p>Rp 22.000</p><small>Hemat Rp 3.000</small>
                            </div>
                            <div class="duration-card" onclick="selectDuration(this, 10, 40000)">
                                <h3>10 Jam</h3><p>Rp 40.000</p><small>Hemat Rp 10.000</small>
                            </div>
                            <div class="duration-card" onclick="selectDuration(this, 24, 90000)">
                                <h3>24 Jam</h3><p>Rp 90.000</p><small>Hemat Rp 30.000</small>
                            </div>
                        </div>
                    </div>

                    <div id="step2" style="display:none; margin-top: 30px;">
                        <h3 style="color: #964DFD; margin-bottom: 20px;">2. Pilih Metode Pembayaran</h3>
                        <div class="payment-methods">
                            <div class="payment-card" onclick="selectPayment(this, 'OVO')">
                                <h4 style="color: #4F2170; font-weight: bold;">OVO</h4>
                            </div>
                            <div class="payment-card" onclick="selectPayment(this, 'ShopeePay')">
                                <h4 style="color: #EE4D2D; font-weight: bold;">ShopeePay</h4>
                            </div>
                            <div class="payment-card" onclick="selectPayment(this, 'GoPay')">
                                <h4 style="color: #0081AA; font-weight: bold;">GoPay</h4>
                            </div>
                            <div class="payment-card" onclick="selectPayment(this, 'Transfer Bank')">
                                <span style="font-size: 32px;">üí≥</span><p>Transfer Bank</p>
                            </div>
                            <div class="payment-card" onclick="selectPayment(this, 'Cash')">
                                <span style="font-size: 32px;">üíµ</span><p>Cash (di Kasir)</p>
                            </div>
                        </div>
                    </div>

                    <div id="step3_addons" style="display:none; margin-top: 30px;">
                        <h3 style="color: #964DFD; margin-bottom: 20px;">3. Tambah Makanan/Minuman (Opsional)</h3>
                        <div class="addon-grid" id="bookingAddonGrid">
                            <p style="color: #666;">Loading menu...</p>
                        </div>
                        <button class="btn" onclick="confirmAddons()" style="margin-top: 20px; background: #2ecc71;">
                            Lanjut ke Konfirmasi
                        </button>
                    </div>

                    <div id="step4_konfirmasi" style="display:none; margin-top: 30px;">
                        <h3 style="color: #964DFD; margin-bottom: 20px;">4. Konfirmasi & Bayar</h3>
                        <div class="booking-summary">
                            <p>PC Terpilih: <strong id="summaryPC">-</strong></p>
                            <p>Durasi: <strong id="summaryDuration">-</strong></p>
                            <p>Metode Bayar: <strong id="summaryPayment">-</strong></p>
                            <hr>
                            <p>Add-Ons:</p>
                            <div id="summaryAddons" style="padding-left: 20px; color: #666;">- Tidak ada -</div>
                            <hr>
                            <h4 id="summaryTotal">Total: Rp 0</h4>
                            <p id="payment-message" class="message" style="display:none;"></p>
                        </div>
                        <button class="btn" id="payButton" onclick="handlePayment()" style="margin-top: 20px;">
                            Bayar Sekarang
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="games" class="page-content">
        <div class="content-card">
            <h2>Daftar Game</h2>
            <div class="game-filters">
                <button class="filter-btn active" onclick="filterGames(event, 'all')">Semua</button>
                <button class="filter-btn" onclick="filterGames(event, 'moba')">MOBA</button>
                <button class="filter-btn" onclick="filterGames(event, 'fps')">FPS</button>
                <button class="filter-btn" onclick="filterGames(event, 'rpg')">RPG</button>
                <button class="filter-btn" onclick="filterGames(event, 'racing')">Racing</button>
                <button class="filter-btn" onclick="filterGames(event, 'sports')">Sports</button>
            </div>
            <div class="game-grid" id="gameGrid"></div>
        </div>
    </div>

    <div id="food_order" class="page-content">
        <div class="content-card">
            <h2>Pesan Makanan & Minuman</h2>
            <p style="color: #666; margin-bottom: 20px;">Pesan snack dan minuman untuk diantar ke PC Anda!</p>
            
            <div class="form-group">
                <label>Nomor PC Anda</label>
                <input type="number" id="foodOrderPC" placeholder="Masukkan nomor PC (1-25)">
            </div>

            <h3 style="color: #964DFD; margin: 30px 0 20px 0;">Menu</h3>
            <div class="addon-grid" id="standaloneFoodGrid">
                <p style="color: #666;">Loading menu...</p>
            </div>
            
            <hr style="margin: 30px 0;">
            
            <div class="booking-summary">
                <h4 style="text-align: right;">Total Pesanan: <strong id="foodTotal">Rp 0</strong></h4>
            </div>
            <p id="food-order-message" class="message" style="display:none;"></p>
            <button class="btn" id="foodOrderButton" onclick="handleFoodOrder()" style="margin-top: 20px;">
                Pesan Sekarang (Bayar di Kasir)
            </button>
        </div>
    </div>

    <div id="rules" class="page-content">
        <div class="content-card">
            <h2>Rules & Regulations</h2>
            <ol class="rules-list">
                <li>Dilarang merokok di dalam ruangan ber-AC.</li>
                <li>Dilarang membawa makanan dan minuman dari luar.</li>
                <li>Jaga kebersihan area bermain Anda.</li>
                <li>Dilarang berkata kasar atau mengganggu kenyamanan pemain lain.</li>
                <li>Dilarang menginstal program ilegal atau cheat.</li>
                <li>Segala bentuk kerusakan pada properti Playnet akan dikenakan sanksi.</li>
                <li>Manajemen tidak bertanggung jawab atas kehilangan barang pribadi.</li>
                <li>Hargai staf kami dan sesama pemain.</li>
            </ol>
        </div>
    </div>

    <div id="admin" class="page-content">
        <div class="content-card">
            <h2>Panel Admin</h2>
            <p style="color: #666; margin-bottom: 20px;">Fitur khusus untuk administrator.</p>

            <div class="profile-section">
                <h3 style="color: #964DFD; margin-bottom: 20px;">Sesi Aktif Saat Ini</h3>
                <p style="color: #666; margin-bottom: 20px;">Menampilkan PC yang sedang berstatus 'Booked' dan user yang memesannya.</p>
                <div class="table-container">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>PC</th>
                                <th>Username</th>
                                <th>Waktu Booking</th>
                                <th>Durasi</th>
                            </tr>
                        </thead>
                        <tbody id="active-sessions-body">
                            </tbody>
                    </table>
                </div>
            </div>
            
            <div class="profile-section">
                <h3 style="color: #964DFD; margin-bottom: 20px;">Batalkan Booking PC (Paksa)</h3>
                <p style="color: #666; margin-bottom: 20px;">Fitur ini akan membuat PC yang dipesan menjadi "Tersedia".</p>
                <form onsubmit="handleForceUnbook(event)">
                    <p id="unbook-message" class="message" style="display:none;"></p>
                    <div class="form-group">
                        <label>Nomor PC yang ingin di-reset</label>
                        <input type="number" id="adminUnbookPC" placeholder="Masukkan nomor PC (1-25)" required>
                    </div>
                    <button type="submit" class="btn" style="background: #e74c3c;">Batalkan Booking PC</button>
                </form>
            </div>

            <div class="profile-section">
                <h3 style="color: #964DFD; margin-bottom: 20px;">Manajemen Waktu User</h3>
                <p style="color: #666; margin-bottom: 20px;">Masukkan username dan jumlah menit (positif/negatif).</p>
                <form onsubmit="handleAdjustTime(event)">
                    <p id="adjust-time-message" class="message" style="display:none;"></p>
                    <div class="form-group">
                        <label>Username</label>
                        <input type="text" id="adminAdjUser" placeholder="Username user" required>
                    </div>
                    <div class="form-group">
                        <label>Menit (tambah/kurang)</label>
                        <input type="number" id="adminAdjMinutes" placeholder="cth: 120 atau -60" required>
                    </div>
                    <button type="submit" class="btn">Ubah Waktu User</button>
                </form>
            </div>

            <div class="profile-section">
                <h3 style="color: #964DFD; margin-bottom: 20px;">Manajemen Menu Makanan</h3>
                <form id="menu-form" onsubmit="handleMenuFormSubmit(event)">
                    <p id="menu-form-message" class="message" style="display:none;"></p>
                    <input type="hidden" id="menu-item-id">
                    <div class="form-group">
                        <label>ID Item</label>
                        <input type="text" id="menu-item-id-input" placeholder="cth: f5 (untuk item baru)" required>
                    </div>
                    <div class="form-group">
                        <label>Nama Item</label>
                        <input type="text" id="menu-item-name" placeholder="cth: Indomie Jumbo" required>
                    </div>
                    <div class="form-group">
                        <label>Harga</label>
                        <input type="number" id="menu-item-price" placeholder="cth: 12000" required>
                    </div>
                    <div class="form-group">
                        <label>Kategori</label>
                        <input type="text" id="menu-item-category" placeholder="food / drink" required>
                    </div>
                    <div class="form-group">
                        <label>Ikon (Emoji)</label>
                        <input type="text" id="menu-item-icon" placeholder="cth: üçú">
                    </div>
                    <button type="submit" class="btn" id="menu-form-button">Tambah Item Baru</button>
                    <button type="button" class="btn" onclick="clearMenuForm()" style="background: #95a5a6; margin-top: 10px;">Batal Edit</button>
                </form>
                
                <h4 style="margin-top: 30px; margin-bottom: 15px; color: #333;">Daftar Menu Saat Ini</h4>
                <div class="table-container">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nama</th>
                                <th>Harga</th>
                                <th>Kategori</th>
                                <th>Tindakan</th>
                            </tr>
                        </thead>
                        <tbody id="menu-table-body">
                            </tbody>
                    </table>
                </div>
            </div>

            <div class="profile-section">
                <h3 style="color: #964DFD; margin-bottom: 20px;">Log Audit Admin</h3>
                <p style="color: #666; margin-bottom: 20px;">Menampilkan 50 tindakan terakhir yang dilakukan oleh admin.</p>
                <div class="table-container">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>Admin</th>
                                <th>Tindakan</th>
                                <th>Detail</th>
                                <th>Waktu</th>
                            </tr>
                        </thead>
                        <tbody id="audit-log-body">
                            </tbody>
                    </table>
                </div>
            </div>

        </div>
    </div>

    <footer>
        <p>&copy; 2025 Playnet. All rights reserved.</p>
    </footer>

    <script src="script.js" defer></script>
</body>
</html>